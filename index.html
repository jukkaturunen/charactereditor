<!DOCTYPE html>
<html>
<head>
<title>World of Darkness Character Sheet</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="js/json-editor.js"></script>
</head>
<body>

<header id="site-header">
  <img id="logo" src="images/cod.png" alt="Chronicles of Darkness">
  <div class="site-header-controls">
    <select id="character-selector">
      <option value="" disabled selected>Select a character</option>
      <option value="Pax Fuller">Pax Fuller</option>
      <option value="John Doe">John Doe</option>
      <option value="Jane Smith">Jane Smith</option>
    </select>
    <button id="load-character-btn" disabled>Load character</button>
  </div>
</header>

<div class="sheet">
  <h1>
    <span class="title-and-toggle">
        <span id="character-name-header"></span>
        <span class="toggle-btn" onclick="toggleSection('header-content', this)">▼</span>
    </span>
    <a href="#" id="save-changes-link" class="hidden" onclick="return saveChanges();">Save changes</a>
  </h1>
  <div class="header" id="header-content">
    <!-- This will be populated by main.js -->
  </div>

  <h2>Attributes <span class="toggle-btn" onclick="toggleSection('attributes-content', this)">▼</span></h2>
  <div class="attributes" id="attributes-content">
    <div class="three-column-grid">
      <div class="category" id="mental-attributes"><h3>Mental</h3></div>
      <div class="category" id="physical-attributes"><h3>Physical</h3></div>
      <div class="category" id="social-attributes"><h3>Social</h3></div>
    </div>
  </div>

  <h2>Skills <span class="toggle-btn" onclick="toggleSection('skills-content', this)">▼</span></h2>
  <div class="skills" id="skills-content">
    <div class="three-column-grid">
      <div class="category" id="mental-skills"><h3>Mental</h3></div>
      <div class="category" id="physical-skills"><h3>Physical</h3></div>
      <div class="category" id="social-skills"><h3>Social</h3></div>
    </div>
    <div class="category" id="specialties-content"><h3>Specialties</h3></div>
  </div>

  <h2>Other Traits <span class="toggle-btn" onclick="toggleSection('other-traits-content', this)">▼</span></h2>
  <div class="other-traits" id="other-traits-content">
    <div class="three-column-grid">
      <div class="category" id="health"></div>
      <div class="category" id="willpower"></div>
      <div class="category" id="integrity"></div>
      <div class="category" id="stats-and-xp"></div>
      <div class="category" id="conditions"></div>
      <div class="category" id="aspirations"></div>
    </div>
    <div class="category" id="merits">
        <h3>Merits</h3>
        <json-editor id="merits-editor"></json-editor>
    </div>
  </div>
</div>

<div id="specialty-modal" class="modal">
  <div class="modal-content">
    <span class="close-button">&times;</span>
    <h2>Add Specialty</h2>
    <label for="skill-select">Skill:</label>
    <select id="skill-select"></select>
    <label for="specialty-input">Specialty:</label>
    <input type="text" id="specialty-input">
    <button id="save-specialty-btn">Save</button>
    <button id="cancel-specialty-btn">Cancel</button>
  </div>
</div>

<script src="js/main.js"></script>

</body>
</html>